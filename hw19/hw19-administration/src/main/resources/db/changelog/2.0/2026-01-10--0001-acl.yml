databaseChangeLog:
  - changeSet:
      id: 2026-01-10--0001-acl-sid
      author: aidproger
      changes:
        - createTable:
            tableName: acl_sid
            columns:
              - column:
                  name: id
                  type: bigserial
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_acl_sid
              - column:
                  name: principal
                  type: boolean
                  constraints:
                    nullable: false
              - column:
                  name: sid
                  type: varchar(100)
                  constraints:
                    nullable: false
  - changeSet:
      id: 2026-01-10--0001-acl-unique-key-sid-principal
      author: aidproger
      addUniqueConstraint:
        columnNames: sid,principal
        constraintName: unique_uk_1
        tableName: acl_sid
  - changeSet:
      id: 2026-01-10--0001-acl-class
      author: aidproger
      changes:
        - createTable:
            tableName: acl_class
            columns:
              - column:
                  name: id
                  type: bigserial
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_acl_class
              - column:
                  name: class
                  type: varchar(255)
                  constraints:
                    nullable: false
  - changeSet:
      id: 2026-01-10--0001-acl-unique-key-class
      author: aidproger
      addUniqueConstraint:
        columnNames: class
        constraintName: unique_uk_2
        tableName: acl_class
  - changeSet:
      id: 2026-01-10--0001-acl-object-identity
      author: aidproger
      changes:
        - createTable:
            tableName: acl_object_identity
            columns:
              - column:
                  name: id
                  type: bigserial
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_acl_object_identity
              - column:
                  name: object_id_class
                  type: bigint
                  constraints:
                    nullable: false
                    foreignKeyName: fk_acl_object_identity_object_id_classs_acl_class
                    references: acl_class(id)
                    deleteCascade: true
              - column:
                  name: object_id_identity
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: parent_object
                  type: bigint
                  constraints:
                    nullable: true
                    foreignKeyName: fk_acl_object_identity_parent_objects_acl_object_identity
                    references: acl_object_identity(id)
                    deleteCascade: true
              - column:
                  name: owner_sid
                  type: bigint
                  constraints:
                    nullable: true
                    foreignKeyName: fk_acl_object_identity_owner_sids_acl_sid
                    references: acl_sid(id)
                    deleteCascade: true
              - column:
                  name: entries_inheriting
                  type: boolean
                  constraints:
                    nullable: false
  - changeSet:
      id: 2026-01-10--0001-acl-entry
      author: aidproger
      changes:
        - createTable:
            tableName: acl_entry
            columns:
              - column:
                  name: id
                  type: bigserial
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_acl_entry
              - column:
                  name: acl_object_identity
                  type: bigint
                  constraints:
                    nullable: false
                    foreignKeyName: fk_acl_entry_acl_object_identities_acl_object_identity
                    references: acl_object_identity(id)
                    deleteCascade: true
              - column:
                  name: ace_order
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: sid
                  type: bigint
                  constraints:
                    nullable: false
                    foreignKeyName: fk_acl_entry_sids_acl_sid
                    references: acl_sid(id)
                    deleteCascade: true
              - column:
                  name: mask
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: granting
                  type: boolean
                  constraints:
                    nullable: false
              - column:
                  name: audit_success
                  type: boolean
                  constraints:
                    nullable: false
              - column:
                  name: audit_failure
                  type: boolean
                  constraints:
                    nullable: false
  - changeSet:
      id: 2026-01-10--0001-acl-unique-key-acl_object_identity-ace_order
      author: aidproger
      addUniqueConstraint:
        columnNames: acl_object_identity,ace_order
        constraintName: unique_uk_4
        tableName: acl_entry