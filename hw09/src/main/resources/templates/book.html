<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="|#{book-title-page} '${book.title}'|">Title</title>
    <link rel="stylesheet" href="/css/style.css?v=7">
</head>
<body>

    <div class="block">
        <div><a href="#" th:href="@{/}" th:text="#{start-page-reference}">Start page</a></div>
    </div>

    <div class="block select-div container-view">
        <div class="position-div">
            <div class="block-view"><b th:text="|#{books-table-header-title}: |"></b><span th:text="${book.title}"></span></div>
            <div class="block-view"><b th:text="|#{books-table-header-author}: |"></b><span th:text="${book.author.fullName}"></span></div>
            <div>
                <b th:text="|#{books-table-header-genre}: |"></b>
                <span th:each="genre, iterStat : ${book.genres}">
                    <span th:text="${genre.name} + ${!iterStat.last ? ', ' : ''}"></span>
                </span>
            </div>
        </div>
        <div class="position-div">
            <a class="button-pointer" th:href="@{/editbook/{id}(id=${book.id})}">
                <img th:src="@{/img/editicon64.png}" th:alt="#{book-edit-title}" />
            </a>
        </div>
    </div>
    <div class="select-div">
        <div class="position-div">
            <div class="block container-view">
                <b th:text="#{book-comment-title}"></b>
                <a class="button-pointer" th:href="@{/createcomment(bookid=${book.id})}">
                    <img th:src="@{/img/addicon16.png}" th:alt="#{book-add-title}" />
                </a>
            </div>
            <div class="container-view" th:each="comment : ${comments}">
                <span th:text="${comment.text}"></span>
                <form th:action="@{/deletecomment/{id}(id=${comment.id}, bookid=${book.id})}"
                      method="post"
                      th:data-question="|#{comment-delete-question} '${comment.text}'?|"
                      onsubmit="return confirmDelete(this);">
                    <button class="button-pointer hide-button" type="submit">
                        <img th:src="@{/img/deleteicon16.png}" th:alt="#{book-delete-title}" />
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="/js/listbook.js?v=5"></script>
</body>
</html>